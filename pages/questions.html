<!DOCTYPE html>
<html>
	<head>
		<title>Semear o Futuro</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="/socket.io/socket.io.js"></script>
	
		
		
	</head>
	<style>
		body {
	text-align: center;
	overflow: hidden;
	background-color: lavender;
}

#questions_box {
	margin: 4%;
	text-align: center;
	font-size: 3.5em;
	font-weight: bold;
	font-family: Helvetica;
}
#points {
	font-size: 1.5em;
}
#options_box {
	margin-top: 5%;
	margin-left: auto;
	margin-right: auto;
	text-align: center;
}

.submit_button {
	width: 30vw;
	min-height: 15vh;
	margin: 20px;
	cursor: pointer;
	transition: transform 0.3s;
	background-color: cadetblue;
	border: 4px solid cadetblue;
	padding: 10px;
	border-radius: 4px;
    font-size: 5vh;
	font-family: Helvetica;
	text-align: center;
	
}

#big_title {
	font-family: Calibri;
	font-size: 900%;
	color: lavender;
}

.input {
	font-family: Helvetica;
	font-size: 200%;
	padding: 5px;
	border: 3px solid CadetBlue;
}

#username_input {
	border-left: 6px solid CadetBlue;
}
#points{
	margin-top: 10%;
	font-family: Helvetica;
	font-size: 200%;
}
	</style>
	<body>
			<div id="questions_box">
					<span class="question"><span class="curquestion"></span></span>
					<br>
					<span id="points"></span>
			</div>
				<div id="options_box">
					<div class="choice_buttons_1">
						<button id="button_0" class="submit_button"><span class="quest_button_0" id="0"></span></button>
						<button id="button_1" class="submit_button"><span class="quest_button_1" id="1"></span></button>
					</div>
					<div class="choice_buttons_2">
						<button id="button_2" class="submit_button"><span class="quest_button_2" id="2"></span></button>
						<button id="button_3" class="submit_button"><span class="quest_button_3" id="3"></span></button>
					</div>
					<div class="special_buttons">
							<button id="button_0" class="submit_button"><span class="special_button_0" id="0"></span></button>
							<br/>
							<button id="button_1" class="submit_button"><span class="special_button_1" id="1"></span></button>
					</div>
				</div>

		
		<script>
			const socket = io();
			
			
			var classyboi = parent.document.URL.substring(parent.document.URL.indexOf('?'), parent.document.URL.length);
			turma = classyboi.slice(7).split('-')[0];
			group = classyboi.slice(7).split('-')[1];
			
			

				
			
			var questions = []
			var currentQuestion = 0
		



				questions = {

				[0]: {
					banca: "Ginásio",
						[0]: {
							question:"Esta energia é boa porquê?",
							options:{
								[0]:"É renovável e conseguimos produzir em casa",
								[1]:"Não e renovável mas conseguimos produzir em casa",
								[2]:"Não e renovável nem conseguimos produzir em casa",
								[3]:"É renovável mas n conseguimos produzir em casa"
							},
							right:0
						},
						[1]: {
							question:"Como possível produzir energia apartir da bicicleta?",
							options:{
								[0]:"A partir da energia cinética (energia associada ao movimento) da bicicleta",
								[1]:"Usando o peso da pessoa que pedala",
								[2]:"Montando e desmontando partes da bicicleta",
								[3]:"Tocando na buzina da bicicleta p produzir energia de ruido."
							},
							right:0
						},
						[2]: {
							question:"Como é que possível produzir energia através de ondas?",
							options:{
								[0]:"Através da energia eletromagnetica do íman que foi movimentado pelas ondas.",
								[1]:"Atraves da energia térmica que a água liberta.",
								[2]:"Através da energia produzida pelo vento ao movimentar as ondas.",
								[3]:"Através da energia das ondas ao entrarem em combustao."
							},
							right:3
						},
						[3]: {
							question:"O que acham mais importante: economia ou a sustentabilidade?",
							options:{
								[0]:"Economia",
								[1]:"Sustentabilidade",
								
							},
							right:0
						}
				},
				[1]: {
				banca: "Espaços Verdes", // THIS ONE NEEDS SOME QUESTION BOIS
				[0]: {
					question:"Qual é que é a planta mais pequena?",
					options:{
						[0]:"Girassol",
						[1]:"Rosa",
						[2]:"Orquidea",
						[3]:"Erva daninha"
					},
					right:3
				},
				[1]: {
					question:"Seremos superiores às outras espécies que partilham o planeta connosco?",
					options:{
						[0]:"Sim, e nós é que devemos controlar o planeta.",
						[1]:"Sim, mas devemos respeitar as outras espécies.",
						[2]:"Não, somos iguais às outras espécies, e todos obedecemos às leis da natureza.",
						[3]:"Não. Apenas temos uma maior inteligência, e as outras espécies podem ser melhores que nós em outros aspetos"
					},
					right:2
				},
				[2]: {
					question:"Qual o melhor sistema para tratar as plantas?",
					options:{
						[0]:"Pesticidas",
						[1]:"Agroquimicos",
						[2]:"Água produzida em Chernobil",
						[3]:"Nenhum dos outros"
					},
					right:2
				},
				[3]: {
					question:"Será correto poluir os jardins?",
					options:{
						[0]:"Sim",
						[1]:"Não",
						
					},
					right:0
				}
				},
				[2]: {
				banca: "Cenas de sei lá quem",
				[0]: {
					question:"Quantos litros de água deveríamos utilizar por dia?",
					options:{
						[0]:"200L",
						[1]:"370L",
						[2]:"150L",
						[3]:"180L"
					},
					right:3
				},
				[1]: {
					question:"Qual é o tipo de energia que é extraído da água?",
					options:{
						[0]:"Eólica",
						[1]:"Hídrica",
						[2]:"Geotérmica",
						[3]:"Nuclear"
					},
					right:2
				},
				[2]: {
					question:"Quais são os 5 Rs?",
					options:{
						[0]:"Reunir, reutilizar, repartir, reduzir e relembrar",
						[1]:"Relembrar, reduzir, repartir, recusar e reciclar",
						[2]:"Reutilizar, reunir, relaxar, recusar e resíduos",
						[3]:"Reciclar, recusar, reduzir, reutilizar e repensar"
					},
					right:3
				},
				[3]: {
					question:"Será correto poluir os jardins?", //change this
					options:{
						[0]:"Sim",
						[1]:"Não",
						
					},
					right:1
				}					
				},
				[3]: {
				banca: "Barragem",
				[0]: {
					question:"Uma das desvantagens da utilização desta Energia é:",
					options:{
						[0]:"O ruído causado pelas turbinas",
						[1]:"O regularizar dos caudais dos rios",
						[2]:"As alterações climáticas",
						[3]:"Ser poluente"
					},
					right:2
				},
				[1]: {
					question:"Onde se situa a Barragem do Alqueva?",
					options:{
						[0]:"Rio Douro",
						[1]:"Rio Tejo",
						[2]:"Rio Mondego",
						[3]:"Rio Guadiana"
					},
					right:3
				},
				[2]: {
					question:"Como é gerada a Energia Hídrica?",
					options:{
						[0]:"Através da força Humana",
						[1]:"Através da energia gerada pelo vento",
						[2]:"Através do movimento das águas",
						[3]:"Através de aerogeradores"
					},
					right:2
				},
				[3]: {
					question:"Será que devemos contaminar a água só por que está no nosso território?",
					options:{
						[0]:"Sim",
						[1]:"Não",
						
					},
					right:1
				}					
				},

				[4]: {
				banca: "Quarto",
				[0]: {
					question:"Qual é o meio energético mais usado?",
					options:{
						[0]:"Calor",
						[1]:"Eletricidade",
						[2]:"Luz",
						[3]:"Movimento"
					},
					right:1
				},
				[1]: {
					question:"Quando se cria energia com pouco ou nenhum resíduo, como se chama a essa energia?",
					options:{
						[0]:"Não renovável",
						[1]:"Mecânica",
						[2]:"Reutilizável",
						[3]:"Renovável"
					},
					right:3
				},
				[2]: {
					question:"Que vantagem traz a regulação de luz em casa?",
					options:{
						[0]:"Aumento da luminosidade e decoração",
						[1]:"Produção de energia extra e poupança energética",
						[2]:"Adaptação à luz natural e poupança energética",
						[3]:"Adaptação à luz natural e decoração"
					},
					right:2
				},
				[3]: {
					question:"A tecnologia ecológica devia ser um luxo, isto é, mais cara e inacessível?",
					options:{
						[0]:"Sim",
						[1]:"Não",
						
					},
					right:1
				}					
				}
			}

			
			$(document).ready(function(){
				getPoints();
				function addQuestion(){
					getPoints();
					$('.curquestion').html(questions[group][currentQuestion].question);
					$('.quest_button_0').html(questions[group][currentQuestion].options[0]);
					$('.quest_button_1').html(questions[group][currentQuestion].options[1]);
					$('.quest_button_2').html(questions[group][currentQuestion].options[2]);
					$('.quest_button_3').html(questions[group][currentQuestion].options[3]);
				}
				function nextQuestion(){
					
					if (currentQuestion == 2) {
						currentQuestion++;
						$('.choice_buttons_1').hide();
						$('.choice_buttons_2').hide();

						$('.curquestion').html(questions[group][currentQuestion].question);
					$('.special_buttons').show();
					$('.special_button_0').html(questions[group][currentQuestion].options[0]);
					$('.special_button_1').html(questions[group][currentQuestion].options[1]);
					}else if (currentQuestion == 3){
							
							window.location = "./inicio/grupos";
					}else {
					currentQuestion++;
					$('.curquestion').html(questions[group][currentQuestion].question);
					$('.quest_button_0').html(questions[group][currentQuestion].options[0]);
					$('.quest_button_1').html(questions[group][currentQuestion].options[1]);
					$('.quest_button_2').html(questions[group][currentQuestion].options[2]);
					$('.quest_button_3').html(questions[group][currentQuestion].options[3]);
					}
				}
				$("#points").hide();
				$(".special_buttons").hide();
			$('.choice_buttons_1').hide();
			$('.choice_buttons_2').hide();
			$('.curquestion').html(questions[group].banca);
			setTimeout(function(){
				$("#points").show();
				$('.choice_buttons_1').show();
				$('.choice_buttons_2').show();
				addQuestion();
			},3000);



				$(".submit_button").click(function(){
						var id = $(this).attr('id'); // $(this) refers to button that was clicked
						id = id.slice(7);
					if (id == questions[group][currentQuestion].right) {
						socket.emit('points',turma);
						
						$("body").css("background-color","greenyellow")
						setTimeout(function(){
							$("body").css("background-color","Lavender")
							getPoints();
							nextQuestion();
						},1000);
					}else{
						$("body").css("background-color","rgb(156, 22, 22)")
						$(".curquestion").css("color","Lavender")
						setTimeout(function(){
							$("body").css("background-color","Lavender")
							$(".curquestion").css("color","Black")
							nextQuestion();
						},1000);
						
					}

					
				})

					function getPoints(){
						socket.emit('Get Points', turma);
					}
				
					socket.on('Recieve Points', function(data){
							$("#points").html(data.points);
					});
			});
		</script>
	</body>
</html>